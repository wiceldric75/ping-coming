<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="styles.css" />
    <title>Frontend Mentor | Ping coming soon page</title>
  </head>
  <body>
    <main>
      <img src="images/logo.svg" alt="company logo" class="company-logo" />
      <h1>We are launching <span>soon!</span></h1>
      <p>Subscribe and get notified</p>
      <div class="cta">
        <form>
          <input
            type="email"
            placeholder="Your email address…"
            class="email-input"
            required
          />
          <span
          class="error-message"
          id="email-error"
          aria-live="polite"
        >Test</span>
        </form>
        <button class="notify-button">Notify Me</button>
      </div>

      <img
        src="images/illustration-dashboard.png"
        alt="dashboard illustration"
        class="db-illustration"
      />
      <div class="socail-and-copyright">
        <div class="social">
          <i class="fab fa-facebook-f icon-social"></i>
          <i class="fab fa-twitter icon-social"></i>
          <i class="fab fa-instagram icon-social"></i>
        </div>
        <span>© Copyright Ping. All rights reserved.</span>
      </div>
    </main>
  </body>
</html>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const button = document.querySelector(".notify-button");
    const inputField = document.querySelector(".email-input");

    const setError = (message) => {
      const errorMessage = document.querySelector("#email-error");
      errorMessage.textContent = message;
      errorMessage.style.display = "flex"; // Show the error message
      inputField.classList.add("error"); // Add the error class to the input
    };

    const clearError = () => {
      const errorMessage = document.querySelector("#email-error");
      errorMessage.textContent = ""; // Clear the error message text
      errorMessage.style.display = "none"; // Hide the error message
      inputField.classList.remove("error"); // Remove the error class from the input
    };

    const validateEmail = (email) => {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Simple email validation regex
      return emailRegex.test(email);
    };

    button.addEventListener("click", (event) => {
      event.preventDefault(); // Prevent default form submission
      const email = inputField.value.trim();

      if (!email) {
        setError("Whoops! It looks like you forgot to add your email");
      } else if (!validateEmail(email)) {
        setError("Please provide a valid email address");
      } else {
        clearError();
        alert("Success! You have been added to our list.");
        inputField.value = ""; // Clear the input field
      }
    });
  });
</script>

